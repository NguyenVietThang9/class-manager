<meta name="viewport" content="width=device-width, initial-scale=1.0">

<style>
    *{
        box-sizing:border-box;
    }

    body{
        margin:0;
        min-height:100vh;
        display:flex;
        align-items:center;
        justify-content:center;
        font-family:"Segoe UI", Arial, sans-serif;
        background: linear-gradient(135deg,#ff9ecf,#ff6fa5,#ff4081);
        background-size:200% 200%;
        animation: gradientMove 8s ease infinite;
        padding:20px;
    }

    @keyframes gradientMove{
        0%{background-position:0% 50%;}
        50%{background-position:100% 50%;}
        100%{background-position:0% 50%;}
    }

    .change-password-container{
        width:100%;
        max-width:420px;
        background:rgba(255,255,255,0.97);
        padding:45px 35px;
        border-radius:28px;
        box-shadow:0 25px 60px rgba(255,0,120,0.35);
        animation:fadeIn 0.4s ease;
        backdrop-filter: blur(6px);
    }

    .change-password-container h2{
        text-align:center;
        margin-bottom:30px;
        font-weight:700;
        font-size:24px;
        color:#e91e63;
    }

    .form-group{
        margin-bottom:18px;
        position:relative;
    }

    .form-group input{
        width:100%;
        padding:14px 45px 14px 14px;
        border-radius:14px;
        border:2px solid #f8bbd0;
        background:#fff;
        font-size:14px;
        transition:0.3s;
    }

    .form-group input:focus{
        border-color:#e91e63;
        box-shadow:0 0 0 4px rgba(233,30,99,0.2);
        outline:none;
    }

    /* ICON SHOW PASSWORD */
    .toggle-password{
        position:absolute;
        right:15px;
        top:50%;
        transform:translateY(-50%);
        cursor:pointer;
        font-size:14px;
        color:#e91e63;
        user-select:none;
    }

    .btn-submit{
        width:100%;
        padding:14px;
        border-radius:14px;
        border:none;
        font-size:16px;
        font-weight:600;
        cursor:pointer;
        background:linear-gradient(135deg,#ff4081,#e91e63);
        color:white;
        transition:0.3s;
        box-shadow:0 12px 35px rgba(233,30,99,0.45);
        margin-bottom:14px;
    }

    .btn-submit:hover{
        transform:translateY(-4px);
        box-shadow:0 20px 45px rgba(233,30,99,0.55);
    }

    .btn-back{
        width:100%;
        padding:13px;
        border-radius:14px;
        font-size:14px;
        font-weight:600;
        text-align:center;
        display:block;
        text-decoration:none;
        background:white;
        color:#e91e63;
        border:2px solid #e91e63;
        transition:0.3s;
    }

    .btn-back:hover{
        background:#e91e63;
        color:#ffffff;
        transform:translateY(-3px);
    }

    .message{
        margin-top:18px;
        padding:13px;
        border-radius:14px;
        font-size:14px;
        text-align:center;
        font-weight:500;
    }

    .error{
        background:#ffe4e6;
        color:#be123c;
        border:1px solid #fecdd3;
    }

    .success{
        background:#dcfce7;
        color:#166534;
        border:1px solid #bbf7d0;
    }

    @keyframes fadeIn{
        from{opacity:0; transform:translateY(25px);}
        to{opacity:1; transform:translateY(0);}
    }

    /* MOBILE ‚â§ 430px */
    @media (max-width:430px){

        .change-password-container{
            padding:35px 25px;
            border-radius:22px;
        }

        .change-password-container h2{
            font-size:20px;
        }

        .form-group input{
            padding:13px 40px 13px 13px;
        }

        .btn-submit{
            padding:13px;
            font-size:15px;
        }

        .btn-back{
            padding:12px;
            font-size:14px;
        }
    }

</style>

<div class="change-password-container">
    <h2>üîê ƒê·ªïi m·∫≠t kh·∫©u</h2>

    <form method="POST">

        <div class="form-group">
            <input type="text" name="username" placeholder="T√™n ƒëƒÉng nh·∫≠p" required>
        </div>

        <div class="form-group">
            <input type="password" name="current_password" placeholder="M·∫≠t kh·∫©u hi·ªán t·∫°i" required>
            <span class="toggle-password" onclick="togglePassword(this)">üëÅ</span>
        </div>

        <div class="form-group">
            <input type="password" name="new_password" placeholder="M·∫≠t kh·∫©u m·ªõi" required>
            <span class="toggle-password" onclick="togglePassword(this)">üëÅ</span>
        </div>

        <div class="form-group">
            <input type="password" name="confirm_password" placeholder="X√°c nh·∫≠n m·∫≠t kh·∫©u" required>
            <span class="toggle-password" onclick="togglePassword(this)">üëÅ</span>
        </div>

        <button type="submit" class="btn-submit">
            üíñ C·∫≠p nh·∫≠t m·∫≠t kh·∫©u
        </button>

    </form>

    <a href="/login" class="btn-back">
        ‚Üê Quay l·∫°i ƒëƒÉng nh·∫≠p
    </a>

    {% if error %}
        <div class="message error">{{ error }}</div>
    {% endif %}

    {% if success %}
        <div class="message success">{{ success }}</div>
    {% endif %}
</div>

<script>
function togglePassword(element){
    const input = element.previousElementSibling;
    if(input.type === "password"){
        input.type = "text";
        element.textContent = "üôà";
    }else{
        input.type = "password";
        element.textContent = "üëÅ";
    }
}
</script>
